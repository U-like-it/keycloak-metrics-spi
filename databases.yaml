kind: "postgresql"
apiVersion: "acid.zalan.do/v1"

metadata:
    name: "ulikeit-database"
    namespace: "default"
    labels:
        team: ulikeit

spec:
    teamId: "ulikeit"
    postgresql:
        version: "13"
        parameters: # Expert section
            shared_buffers: "32MB"
            max_connections: "250"
            log_statement: "none"
    numberOfInstances: 1
    enableConnectionPooler: true
    enableLogicalBackup: true
    volume:
        size: "10Gi"
    users:
        keycloak:
            - superuser
            - createdb
        session:
            - superuser
            - createdb
        storage:
            - superuser
            - createdb
    databases:
        keycloak: keycloak
        session: session
        storage: storage
    resources:
        requests:
            cpu: 100m
            memory: 100Mi
        limits:
            cpu: 500m
            memory: 500Mi
